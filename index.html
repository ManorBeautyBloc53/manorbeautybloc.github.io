<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Manor Beauty Bloc</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --neon-pink: #ff2d75;
      --gold-glow: #f59e0b;
      --bg-black: #000;
      --zinc-900: #18181b;
      --zinc-800: #27272a;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: var(--bg-black);
      color: #fff;
      overflow-x: hidden;
    }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #000; }
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(to bottom, var(--neon-pink), var(--gold-glow));
      border-radius: 10px;
    }

    /* HERO WITH IMAGE */
    .hero {
      height: 100vh;
      position: sticky;
      top: 0;
      z-index: 10;
      background: url("assets/mbb-hero.png") center center / cover no-repeat;
    }

    .hero-overlay {
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.55);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 1rem;
    }

    .hero-overlay h1 {
      font-size: clamp(2.5rem, 7vw, 5rem);
      font-weight: 800;
      background: linear-gradient(90deg, var(--neon-pink), var(--gold-glow));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 0 20px rgba(255, 45, 117, 0.6);
    }

    .hero-overlay p {
      margin-top: 0.75rem;
      color: var(--gold-glow);
      text-shadow: 0 0 10px rgba(245, 158, 11, 0.6);
    }

    .hero-overlay .sub {
      margin-top: 1.5rem;
      opacity: 0.85;
    }

    /* SCROLL SECTION */
    .scroll-section {
      height: 300vh;
      position: relative;
    }

    .canvas-wrap {
      position: sticky;
      top: 0;
      height: 100vh;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      background: black;
    }

    canvas {
      width: 100%;
      height: 100%;
      display: block;
    }

    .overlay {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.4);
      opacity: 0;
      transition: opacity 0.2s linear;
      pointer-events: none;
    }

    .overlay h2 {
      font-size: clamp(2rem, 5vw, 3rem);
      color: var(--neon-pink);
      border-bottom: 2px solid var(--gold-glow);
      padding-bottom: 0.5rem;
      text-shadow: 0 0 15px rgba(255,45,117,0.6);
    }

    /* REQUEST SECTION */
    .request {
      min-height: 100vh;
      background: #09090b;
      padding: 5rem 1.5rem;
      position: relative;
      z-index: 20;
    }

    .request-inner {
      max-width: 1000px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 3rem;
    }

    @media (min-width: 768px) {
      .request-inner {
        grid-template-columns: 1fr 1fr;
      }
    }

    .request h3 {
      font-size: 2rem;
      color: var(--neon-pink);
      margin-bottom: 1.5rem;
    }

    .request form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .request input,
    .request textarea {
      padding: 0.75rem;
      background: var(--zinc-900);
      border: 1px solid var(--zinc-800);
      border-radius: 6px;
      color: #fff;
      font-size: 1rem;
    }

    .request input:focus,
    .request textarea:focus {
      outline: none;
      border-color: var(--neon-pink);
    }

    .request button {
      margin-top: 0.5rem;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--neon-pink), var(--gold-glow));
      color: #000;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .request button:hover {
      transform: scale(1.05);
    }

    .qr-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .qr-wrap img {
      width: 200px;
      height: 200px;
      background: #fff;
      padding: 0.5rem;
      border-radius: 12px;
    }

    .qr-wrap p {
      margin-top: 1rem;
      color: #a1a1aa;
      font-size: 0.9rem;
      font-style: italic;
    }
  </style>
</head>
<body>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-overlay">
      <h1>MANOR BEAUTY BLOC</h1>
      <p>Beauty Supply • Salon • Self-Care</p>
      <p class="sub">Scroll to explore the Bloc</p>
    </div>
  </section>

  <!-- SCROLL CANVAS SECTION -->
  <section class="scroll-section" id="scrollSection">
    <div class="canvas-wrap">
      <canvas id="mbbCanvas"></canvas>
      <div class="overlay" id="overlayText">
        <h2>Premium Braiding Hair</h2>
      </div>
    </div>
  </section>

  <!-- REQUEST SECTION -->
  <section class="request" id="request">
    <div class="request-inner">
      <div>
        <h3>Request Your Style</h3>

        <form id="requestForm">
          <input type="text" id="name" placeholder="Name" required />
          <textarea id="vision" placeholder="Tell us your vision..." rows="5" required></textarea>
          <button type="submit">Submit Request</button>
        </form>
      </div>

      <div class="qr-wrap">
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=https://manorbeauty.bloc/request" alt="QR Code">
        <p>Scan to share the beauty</p>
      </div>
    </div>
  </section>

  <script>
    const canvas = document.getElementById("mbbCanvas");
    const ctx = canvas.getContext("2d");
    const overlay = document.getElementById("overlayText");
    const scrollSection = document.getElementById("scrollSection");

    const frameCount = 120;
    const images = [];
    let firstImageLoaded = false;

    function currentFrame(index) {
      const i = String(index).padStart(3, "0");
      return `frames/frame_${i}.png`;
    }

    function resizeCanvas() {
      const dpr = window.devicePixelRatio || 1;
      const rect = canvas.getBoundingClientRect();
      canvas.width = rect.width * dpr;
      canvas.height = rect.height * dpr;
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }

    function drawImageCover(img) {
      const cw = canvas.width;
      const ch = canvas.height;
      const iw = img.width;
      const ih = img.height;

      const canvasRatio = cw / ch;
      const imageRatio = iw / ih;

      let drawWidth, drawHeight, offsetX, offsetY;

      if (imageRatio > canvasRatio) {
        drawHeight = ch;
        drawWidth = ch * imageRatio;
        offsetX = (cw - drawWidth) / 2;
        offsetY = 0;
      } else {
        drawWidth = cw;
        drawHeight = cw / imageRatio;
        offsetX = 0;
        offsetY = (ch - drawHeight) / 2;
      }

      ctx.clearRect(0, 0, cw, ch);
      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);
    }

    function drawFrame(index) {
      const img = images[index];
      if (!img || !img.complete) {
        ctx.fillStyle = "#000";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        return;
      }
      drawImageCover(img);
    }

    for (let i = 1; i <= frameCount; i++) {
      const img = new Image();
      img.src = currentFrame(i);
      img.onload = () => {
        if (!firstImageLoaded) {
          firstImageLoaded = true;
          resizeCanvas();
          drawFrame(0);
        }
      };
      images.push(img);
    }

    function onScroll() {
      const rect = scrollSection.getBoundingClientRect();
      const scrollTop = -rect.top;
      const scrollHeight = scrollSection.offsetHeight - window.innerHeight;
      const progress = Math.min(Math.max(scrollTop / scrollHeight, 0), 1);

      const frameIndex = Math.floor(progress * (frameCount - 1));
      drawFrame(frameIndex);

      if (progress > 0.1 && progress < 0.3) {
        overlay.style.opacity = (progress - 0.1) / 0.2;
      } else if (progress >= 0.3) {
        overlay.style.opacity = 1;
      } else {
        overlay.style.opacity = 0;
      }
    }

    window.addEventListener("scroll", onScroll);
    window.addEventListener("resize", () => {
      resizeCanvas();
      drawFrame(0);
    });

    const form = document.getElementById("requestForm");
    form.addEventListener("submit", function(e) {
      e.preventDefault();

      const name = document.getElementById("name").value;
      const vision = document.getElementById("vision").value;

      const subject = encodeURIComponent("New Style Request from " + name);
      const body = encodeURIComponent("Name: " + name + "\n\nVision:\n" + vision);

      window.location.href = `mailto:manorbeautybloc@gmail.com?subject=${subject}&body=${body}`;
    });
  </script>

</body>
</html>

